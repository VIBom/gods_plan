import{_ as V,d as I,u as z,r as S,x as N,o as n,c as l,b as e,J as r,F as C,B as A,C as g,D as E,l as P,E as F,A as T,p as U,a as j}from"./index.4af51ece.js";import{p as J,f as B,e as q,h as G,s as H,i as K}from"./api.5700921d.js";const v=d=>(U("data-v-1f2af98e"),d=d(),j(),d),O={class:"content-section"},Q={class:"content-section-title"},W=v(()=>e("a",null,"\u6B4C\u66F2\u5217\u8868",-1)),X=v(()=>e("svg",{t:"1652174381921",viewBox:"0 0 1024 1024",fill:"currentColor"},[e("path",{d:"M512 42.666667C252.793333 42.666667 42.666667 252.793333 42.666667 512s210.126667 469.333333 469.333333 469.333333 469.333333-210.126667 469.333333-469.333333S771.206667 42.666667 512 42.666667z m196.546667 500.493333l-266.666667 176A37.333333 37.333333 0 0 1 384 688V336.033333a37.333333 37.333333 0 0 1 57.893333-31.16l266.666667 176a37.333333 37.333333 0 0 1 0 62.32z","p-id":"1906"})],-1)),Y=v(()=>e("span",{class:"allSongs-button"},"\u64AD\u653E\u5168\u90E8",-1)),Z={class:"allSongs-length"},ss={class:"lists"},ts=["onClick"],es={class:"main-songs"},os={class:"songs-name"},as={class:"phone-singer"},ns={class:"singer"},ls=["onClick"],is={key:0,class:"slash"},us={class:"playTime"},cs={class:"song-detail"},rs={class:"singer"},ds=["onClick"],_s={key:0,class:"slash"},ps=["onClick"],gs=["onClick"],vs=v(()=>e("path",{d:"M512 42.666667C252.793333 42.666667 42.666667 252.793333 42.666667 512s210.126667 469.333333 469.333333 469.333333 469.333333-210.126667 469.333333-469.333333S771.206667 42.666667 512 42.666667z m196.546667 500.493333l-266.666667 176A37.333333 37.333333 0 0 1 384 688V336.033333a37.333333 37.333333 0 0 1 57.893333-31.16l266.666667 176a37.333333 37.333333 0 0 1 0 62.32z","p-id":"1906"},null,-1)),hs=[vs],ms={class:"button-wrapper"},fs={class:"menu"},Cs=I({props:{id:null,type:null},setup(d){const h=d,m=P(),_=z(),u=S([]),y=async s=>{if(h.type==="song"){const t=await J(s),o=t.playlist.trackIds.map(i=>i.id),p=await B(o.join());t.code===200&&(u.value=p.songs)}else if(h.type==="album"){const t=await q(s);t.code===200&&(u.value=t.songs)}else{const t=await G(s);t.code===200&&(u.value=t.hotSongs)}},D=S(!1),k=async s=>{if(_.$state.audioLists.map(t=>t.id).includes(s))_.setActiveSongsIndex(s);else{let t={artist:"",name:"",url:"",cover:"",lrc:"",id:"",mv:""},p=(await H(s)).data[0].url;t.url=p;let i=await B(s),a=i.songs[0].ar[0].name;t.artist=a;let c=i.songs[0].name;t.name=c;let f=i.songs[0].al.picUrl;t.cover=f;let R=i.songs[0].mv;t.mv=R;let $=(await K(s)).lrc.lyric;t.lrc=$,t.id=s,_.setaudioList(t),_.setActiveSongsIndex(s)}},b=s=>{D.value=s},w=s=>{m.push({name:"Artist",params:{id:s}}),y(s)},x=s=>{m.push({name:"Album",params:{id:s}})},L=s=>{console.log(s),s===0?F.warning("\u8FD9\u9996\u6B4C\u6682\u65F6\u6CA1\u6709MV"):m.push({name:"MV",params:{id:s}})},M=()=>{if(u.value.length>50)return F.warning("\u670D\u52A1\u5668\u8D44\u6E90\u6709\u9650\uFF0C\u6682\u65F6\u4E0D\u652F\u630150\u9996\u6B4C\u4EE5\u4E0A\u7684\u6DFB\u52A0\uFF01\u8BF7\u60A8\u8C05\u89E3\u87F9\u87F9\uFF01");let s=_.audioLists.map(o=>o.id),t=T(u.value).filter(o=>!s.includes(o.id)).map(o=>o.id);t.length===0?F.warning("\u60A8\u5DF2\u7ECF\u6210\u529F\u628A\u5168\u90E8\u6B4C\u66F2\u6DFB\u52A0\u5230\u64AD\u653E\u5217\u8868\uFF01"):t.map(async o=>{k(o)})};return N(()=>{y(h.id)}),(s,t)=>(n(),l("div",O,[e("div",Q,[W,e("div",{class:"allSongs",onClick:M},[X,Y,e("span",Z,"("+r(u.value.length)+")",1)])]),e("ul",ss,[(n(!0),l(C,null,A(u.value,(o,p)=>{var i;return n(),l("li",{class:"list-item",key:p,onClick:a=>k(o.id)},[e("div",es,[e("div",os,r(o.name),1),e("div",as,[e("div",ns,[(n(!0),l(C,null,A(o.ar,(a,c)=>(n(),l("div",{class:"singer-item",key:c},[e("span",{onClick:g(f=>w(a.id),["stop"]),class:"singer-item"},r(a.name),9,ls),c!==o.ar.length-1?(n(),l("span",is," / ")):E("",!0)]))),128))])])]),e("span",us,r(s.$filters.filterSongTime(o.dt)),1),e("div",cs,[e("div",rs,[(n(!0),l(C,null,A(o.ar,(a,c)=>(n(),l("div",{key:c},[e("span",{onClick:g(f=>w(a.id),["stop"]),class:"singer-item"},r(a.name),9,ds),c!==o.ar.length-1?(n(),l("span",_s," / ")):E("",!0)]))),128))])]),e("span",{class:"song-detail album",onClick:g(a=>x(o.al.id),["stop"])},r((i=o.al)==null?void 0:i.name),9,ps),(n(),l("svg",{onClick:g(a=>L(o.mv),["stop"]),t:"1652174381921",viewBox:"0 0 1024 1024",fill:"currentColor"},hs,8,gs)),e("div",ms,[e("div",fs,[e("button",{class:"dropdown",onClick:t[0]||(t[0]=g(a=>b(!0),["stop"]))})])])],8,ts)}),128))])]))}});var ks=V(Cs,[["__scopeId","data-v-1f2af98e"]]);export{ks as S};
